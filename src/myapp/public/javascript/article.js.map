{"version":3,"sources":["article.js"],"names":["$","login","init","getCookie","window","location","href","protocol","host","submitForm","o","username","val","password","ajax","type","url","data","async","error","err","console","log","success","msg","alert","bindEvent","on","e","which","keyCode","jQuery"],"mappings":"CAAA,SAAUA,GAEN,GAEIC,QAEAC,KAAM,WAJI,QAMYC,UAAU,aAExBC,OAAOC,SAASC,KAAOF,OAAOC,SAASE,SAAW,KAAOH,OAAOC,SAASG,KAAO,UAMxFC,WAAY,WACR,GAAIC,IACAC,SAAUX,EAAE,aAAaY,MACzBC,SAAUb,EAAE,aAAaY,MAG7BZ,GAAEc,MACEC,KAAM,OACNC,IAAK,WACLC,KAAMP,EACNQ,OAAO,EACPC,MAAO,SAASC,KACZC,QAAQC,IAAIF,MAEhBG,QAAS,SAASC,KA5BhB,QA6BKA,IACCpB,OAAOC,SAASC,KAAOF,OAAOC,SAASE,SAAW,KAAOH,OAAOC,SAASG,KAAO,QAEhFiB,MAAMD,SAMtBE,UAAW,WACP1B,EAAE,QAAQ2B,GAAG,QAAS,aAAc,WAChC1B,MAAMQ,eAETkB,GAAG,QAAS,SAASC,GAEN,MADDA,EAAEC,OAASD,EAAEE,UAEpB7B,MAAMQ,gBAMtBR,OAAMC,OACND,MAAMyB,aACPK","file":"article.js","sourcesContent":["(function($) {\r\n\r\n    var isLogin = 'yes';\r\n\r\n    var login = {\r\n\r\n        init: function() {\r\n            // 如果已经登录则直接跳转到home页面\r\n            var cookieValue = getCookie('isLogin');\r\n            if(cookieValue === isLogin) {\r\n                window.location.href = window.location.protocol + '//' + window.location.host + '/home';\r\n            }\r\n\r\n        },\r\n\r\n        // 提交表单\r\n        submitForm: function() {\r\n            var o = {\r\n                username: $('#username').val(),\r\n                password: $('#password').val()\r\n            };\r\n\r\n            $.ajax({\r\n                type: 'post',\r\n                url: '/isLogin',\r\n                data: o,\r\n                async: false,\r\n                error: function(err) {\r\n                    console.log(err);\r\n                },\r\n                success: function(msg){\r\n                    if(msg === isLogin) {\r\n                        window.location.href = window.location.protocol + '//' + window.location.host + '/home';\r\n                    } else {\r\n                        alert(msg);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        bindEvent: function() {\r\n            $('body').on('click', '.login-btn', function() {\r\n                login.submitForm();\r\n            })\r\n            .on('keyup', function(e) {\r\n                var code = e.which || e.keyCode;\r\n                if(code === 13) {\r\n                    login.submitForm();\r\n                } \r\n            });\r\n        }\r\n    };\r\n\r\n    login.init();\r\n    login.bindEvent();\r\n})(jQuery);"]}