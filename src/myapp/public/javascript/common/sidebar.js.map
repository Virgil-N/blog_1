{"version":3,"sources":["common/sidebar.js"],"names":["$","isLogin","getCookie","hide","show","on","e","target","tagName","undefined","closest","$sidebar","$sidebarLeft","parseInt","css","animate","left","marginLeft","window","$sidebarWidth","jQuery"],"mappings":"CAAA,SAAUA,GAEN,GAAIC,SAAU,OAEd,WAEsBC,UAAU,aACTD,SACfD,EAAE,UAAUG,OACZH,EAAE,WAAWI,SAEbJ,EAAE,UAAUI,OACZJ,EAAE,WAAWG,WAMrB,WACIH,EAAE,QAEDK,GAAG,QAAS,kCAAmC,SAASC,GAGrD,GAA2B,MAArBA,EAAEC,OAAOC,aAAsDC,KAAhCT,EAAEM,EAAEC,QAAQG,QAAQ,KAAK,GAAmB,CAC7E,GAAIC,UAAWX,EAAE,YACbY,aAAeC,SAASF,SAASG,IAAI,QAGzC,IAFiBD,SAASb,EAAE,QAAQc,IAAI,UAEvB,IACb,OAAO,CAGX,IAAqB,IAAjBF,aAgBA,OAAO,CAdPZ,GAAE,YAAYe,SACVC,MAAO,KACR,UAEHhB,EAAE,iBAAiBe,SACfE,WAAY,GAEb,UAEHjB,EAAE,oBAAoBe,SAClBE,WAAY,GACb,aASdZ,GAAG,QAAS,oBAAqB,WAC9B,GAAIM,UAAWX,EAAE,YACbY,aAAeC,SAASF,SAASG,IAAI,QAGzC,IAFiBD,SAASb,EAAE,QAAQc,IAAI,UAEvB,IACb,OAAO,CAGX,KAAsB,MAAlBF,aAEAZ,EAAE,YAAYe,SACVC,KAAM,GACP,UAEHhB,EAAE,iBAAiBe,SACfE,WAAY,KACb,UAEHjB,EAAE,oBAAoBe,SAClBE,WAAY,KACb,cAEA,CAAA,GAAqB,IAAjBL,aAeP,OAAO,CAbPZ,GAAE,YAAYe,SACVC,MAAO,KACR,UAEHhB,EAAE,iBAAiBe,SACfE,WAAY,GACb,UAEHjB,EAAE,oBAAoBe,SAClBE,WAAY,GACb,aAQXjB,EAAEkB,QAAQb,GAAG,SAAU,WACnB,GAAIM,UAAWX,EAAE,YACbY,aAAeC,SAASF,SAASG,IAAI,SACrCK,cAAgBN,SAASF,SAASG,IAAI,SACzBD,UAASb,EAAE,QAAQc,IAAI,UAGvB,KAAwB,IAAjBF,eAAyC,MAAlBO,eAA2C,MAAlBA,iBACpEnB,EAAE,YAAYe,SACVC,MAAO,KACR,UAEHhB,EAAE,iBAAiBe,SACfE,WAAY,GACb,UAEHjB,EAAE,oBAAoBe,SAClBE,WAAY,GACb,iBAQhBG","file":"sidebar.js","sourcesContent":["(function($) {\n\n    var isLogin = 'yes';\n\n    function init() {\n\n        var cookieValue = getCookie('isLogin');\n        if(cookieValue === isLogin) {\n            $('#login').hide();\n            $('#logout').show();\n        } else {\n            $('#login').show();\n            $('#logout').hide();\n        }\n\n    }\n\n\n    function bindEvent() {\n        $('body')\n        // 点击页面上的空白区域隐藏sidebar\n        .on('click', '#main-content, #header, #footer', function(e) {\n\n            // 判断点击的元素和其祖先元素是否是超链接，当不是超链接时才执行\n            if (!(e.target.tagName === 'A') && !($(e.target).closest('a')[0] !== undefined)) {\n                var $sidebar = $('#sidebar');\n                var $sidebarLeft = parseInt($sidebar.css('left'));\n                var $pageWidth = parseInt($('body').css('width'));\n\n                if ($pageWidth > 767) {\n                    return false;\n                }\n                \n                if ($sidebarLeft === 0) {\n\n                    $('#sidebar').animate({\n                        left: -250\n                    }, 'normal');\n\n                    $('#main-content').animate({\n                        marginLeft: 0\n                        // width: $pageWidth\n                    }, 'normal');\n\n                    $('#header, #footer').animate({\n                        marginLeft: 0\n                    }, 'normal');\n\n                } else {\n                    return false;\n                }\n\n            }   \n        })\n        // 显示隐藏sidebar\n        .on('click', '#btn-open-sidebar', function() {\n            var $sidebar = $('#sidebar');\n            var $sidebarLeft = parseInt($sidebar.css('left'));\n            var $pageWidth = parseInt($('body').css('width'));\n\n            if ($pageWidth > 767) {\n                return false;\n            }\n            \n            if ($sidebarLeft === -250) {\n\n                $('#sidebar').animate({\n                    left: 0\n                }, 'normal');\n\n                $('#main-content').animate({\n                    marginLeft: 250\n                }, 'normal');\n\n                $('#header, #footer').animate({\n                    marginLeft: 250\n                }, 'normal');\n\n            } else if ($sidebarLeft === 0) {\n\n                $('#sidebar').animate({\n                    left: -250\n                }, 'normal');\n\n                $('#main-content').animate({\n                    marginLeft: 0\n                }, 'normal');\n\n                $('#header, #footer').animate({\n                    marginLeft: 0\n                }, 'normal');\n\n            } else {\n                return false;\n            }\n        });\n\n        // 调整页面尺寸时做一次把sidebar还原的操作(不这样做会导致布局异常)\n        $(window).on('resize', function() {\n            var $sidebar = $('#sidebar');\n            var $sidebarLeft = parseInt($sidebar.css('left'));\n            var $sidebarWidth = parseInt($sidebar.css('width'));\n            var $pageWidth = parseInt($('body').css('width'));\n            \n            // 233是带滚动条的sidebar宽度\n            if ($pageWidth < 767 && $sidebarLeft === 0 && ($sidebarWidth === 250 || $sidebarWidth === 233)) {\n                $('#sidebar').animate({\n                    left: -250\n                }, 'normal');\n\n                $('#main-content').animate({\n                    marginLeft: 0\n                }, 'normal');\n\n                $('#header, #footer').animate({\n                    marginLeft: 0\n                }, 'normal');\n            }\n        });\n\n    }\n\n    init();\n    bindEvent();\n})(jQuery);"]}