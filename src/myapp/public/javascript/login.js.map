{"version":3,"sources":["login.js"],"names":["$","login","init","getCookie","window","location","href","protocol","host","submitForm","o","username","val","password","ajax","type","url","data","async","error","err","console","log","success","msg","alert","bindEvent","on","e","which","keyCode","jQuery"],"mappings":"CAAA,SAAUA,GAEN,GAEIC,QAEAC,KAAM,WAJI,QAMYC,UAAU,aAExBC,OAAOC,SAASC,KAAOF,OAAOC,SAASE,SAAW,KAAOH,OAAOC,SAASG,KAAO,UAMxFC,WAAY,WACR,GAAIC,IACAC,SAAUX,EAAE,aAAaY,MACzBC,SAAUb,EAAE,aAAaY,MAG7BZ,GAAEc,MACEC,KAAM,OACNC,IAAK,WACLC,KAAMP,EACNQ,OAAO,EACPC,MAAO,SAASC,KACZC,QAAQC,IAAIF,MAEhBG,QAAS,SAASC,KA5BhB,QA6BKA,IACCpB,OAAOC,SAASC,KAAOF,OAAOC,SAASE,SAAW,KAAOH,OAAOC,SAASG,KAAO,QAEhFiB,MAAMD,SAMtBE,UAAW,WACP1B,EAAE,QAAQ2B,GAAG,QAAS,aAAc,WAChC1B,MAAMQ,eAETkB,GAAG,QAAS,SAASC,GAEN,MADDA,EAAEC,OAASD,EAAEE,UAEpB7B,MAAMQ,gBAMtBR,OAAMC,OACND,MAAMyB,aACPK","file":"login.js","sourcesContent":["(function($) {\n\n    var isLogin = 'yes';\n\n    var login = {\n\n        init: function() {\n            // 如果已经登录则直接跳转到home页面\n            var cookieValue = getCookie('isLogin');\n            if(cookieValue === isLogin) {\n                window.location.href = window.location.protocol + '//' + window.location.host + '/home';\n            }\n\n        },\n\n        // 提交表单\n        submitForm: function() {\n            var o = {\n                username: $('#username').val(),\n                password: $('#password').val()\n            };\n\n            $.ajax({\n                type: 'post',\n                url: '/isLogin',\n                data: o,\n                async: false,\n                error: function(err) {\n                    console.log(err);\n                },\n                success: function(msg){\n                    if(msg === isLogin) {\n                        window.location.href = window.location.protocol + '//' + window.location.host + '/home';\n                    } else {\n                        alert(msg);\n                    }\n                }\n            });\n        },\n\n        bindEvent: function() {\n            $('body').on('click', '.login-btn', function() {\n                login.submitForm();\n            })\n            .on('keyup', function(e) {\n                var code = e.which || e.keyCode;\n                if(code === 13) {\n                    login.submitForm();\n                } \n            });\n        }\n    };\n\n    login.init();\n    login.bindEvent();\n})(jQuery);"]}